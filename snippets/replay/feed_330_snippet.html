<section class="post">
    <script>
        function togglePreview() {
            preview = document.getElementById('track-preview');
            pauseAll(0);
            $(preview).slideToggle("slow");
        }
        
        function pauseAll(id) {
            // Pause all audio
            [].forEach.call(document.getElementsByClassName("preview-audio"), function (v, i) {
                var a = document.getElementsByClassName("preview-audio")[i];
                a.pause();
                a.currentTime = 0;
            });

            // Set all other buttons back to play
            var i=1;
            
            while (true) {
                var otherButton = document.getElementById("preview-" + i);
                if (otherButton === null) break;
                
                if (i !== id) {
                    otherButton.className = 'far fa-play-circle';
                }
                i++;
            }            
        }
        
        function playPreview(id) {
            var audio = document.getElementById("audio-" + id);
            var button = document.getElementById("preview-" + id);
            pauseAll(id);
            
            // Toggle play/stop of current track
            if (button.className.includes('play')) {
                // Play selected audio
                audio.play();
                button.className = 'far fa-stop-circle';
            } else {
                button.className = 'far fa-play-circle';
            }
        }        
    </script>
        <table>
        <tr>
            <td><a href="https://open.spotify.com/album/6tjriBxkxIkGAJVB6rM65s" target="_blank">                <img src="https://i.scdn.co/image/ab67616d00001e024f97475bb44baa0b136b6465" alt="Becoming A Jackal" style="width:120px;height:120px;padding-right:8px">
                </a>            </td>
            <td><h4 style="text-align:left"><span class="main-colour">Villagers</span><br/><span class="sub-colour">Becoming A Jackal</span></h4></td>
        </tr>
    </table>

        <div style="padding-right:7px;margin-top:5px;margin-bottom:5px">
        <a class="pure-button" onclick="togglePreview()"><i class="fas fa-search-plus" style="color:#3d4f5d"></i> Preview Track Listing</a>
    </div>
    <div id="track-preview" style="display:none;margin-bottom:5px">
        <table>
                        <tr>
                <td>
                    <a class="pure-button" onclick="playPreview(1)"><i id="preview-1" class="far fa-play-circle" style="color:#3d4f5d"></i></a>
                    <audio class="preview-audio" id="audio-1" src="https://p.scdn.co/mp3-preview/a432c4309bc16954d6ab1c32ff2123e8d1f6fed4?cid=fb5641f3594042fb9eb08c5047773ba4"></audio>
                </td>
                <td style="text-align:left;padding-left:5px">I Saw The Dead</td>
            </tr>
                        <tr>
                <td>
                    <a class="pure-button" onclick="playPreview(2)"><i id="preview-2" class="far fa-play-circle" style="color:#3d4f5d"></i></a>
                    <audio class="preview-audio" id="audio-2" src="https://p.scdn.co/mp3-preview/520cb3b1f51e95b3a72e60a90f2f085088964c0f?cid=fb5641f3594042fb9eb08c5047773ba4"></audio>
                </td>
                <td style="text-align:left;padding-left:5px">Becoming A Jackal</td>
            </tr>
                        <tr>
                <td>
                    <a class="pure-button" onclick="playPreview(3)"><i id="preview-3" class="far fa-play-circle" style="color:#3d4f5d"></i></a>
                    <audio class="preview-audio" id="audio-3" src="https://p.scdn.co/mp3-preview/400fadddf34ca099f73b82ea3e49e0587bfb3b41?cid=fb5641f3594042fb9eb08c5047773ba4"></audio>
                </td>
                <td style="text-align:left;padding-left:5px">Ship Of Promises</td>
            </tr>
                        <tr>
                <td>
                    <a class="pure-button" onclick="playPreview(4)"><i id="preview-4" class="far fa-play-circle" style="color:#3d4f5d"></i></a>
                    <audio class="preview-audio" id="audio-4" src="https://p.scdn.co/mp3-preview/e8e9be4907172453076263384b431ee25316be3e?cid=fb5641f3594042fb9eb08c5047773ba4"></audio>
                </td>
                <td style="text-align:left;padding-left:5px">The Meaning Of The Ritual</td>
            </tr>
                        <tr>
                <td>
                    <a class="pure-button" onclick="playPreview(5)"><i id="preview-5" class="far fa-play-circle" style="color:#3d4f5d"></i></a>
                    <audio class="preview-audio" id="audio-5" src="https://p.scdn.co/mp3-preview/0231ce6af13fc2820280fc9cfb1aebd3f51824b9?cid=fb5641f3594042fb9eb08c5047773ba4"></audio>
                </td>
                <td style="text-align:left;padding-left:5px">Home</td>
            </tr>
                        <tr>
                <td>
                    <a class="pure-button" onclick="playPreview(6)"><i id="preview-6" class="far fa-play-circle" style="color:#3d4f5d"></i></a>
                    <audio class="preview-audio" id="audio-6" src="https://p.scdn.co/mp3-preview/06a0e03a6b375041cf19157772383897a5697553?cid=fb5641f3594042fb9eb08c5047773ba4"></audio>
                </td>
                <td style="text-align:left;padding-left:5px">That Day</td>
            </tr>
                        <tr>
                <td>
                    <a class="pure-button" onclick="playPreview(7)"><i id="preview-7" class="far fa-play-circle" style="color:#3d4f5d"></i></a>
                    <audio class="preview-audio" id="audio-7" src="https://p.scdn.co/mp3-preview/038d5f3459cd97a5e193059cee056ca258de6a59?cid=fb5641f3594042fb9eb08c5047773ba4"></audio>
                </td>
                <td style="text-align:left;padding-left:5px">The Pact (I'll Be Your Fever)</td>
            </tr>
                        <tr>
                <td>
                    <a class="pure-button" onclick="playPreview(8)"><i id="preview-8" class="far fa-play-circle" style="color:#3d4f5d"></i></a>
                    <audio class="preview-audio" id="audio-8" src="https://p.scdn.co/mp3-preview/6fff91cb513a6e073270fe89f1aee3b8a82356f7?cid=fb5641f3594042fb9eb08c5047773ba4"></audio>
                </td>
                <td style="text-align:left;padding-left:5px">Set The Tigers Free</td>
            </tr>
                        <tr>
                <td>
                    <a class="pure-button" onclick="playPreview(9)"><i id="preview-9" class="far fa-play-circle" style="color:#3d4f5d"></i></a>
                    <audio class="preview-audio" id="audio-9" src="https://p.scdn.co/mp3-preview/119cef005e2ddbe9742ea56254f8cfb7c5acb6df?cid=fb5641f3594042fb9eb08c5047773ba4"></audio>
                </td>
                <td style="text-align:left;padding-left:5px">Twenty Seven Strangers</td>
            </tr>
                        <tr>
                <td>
                    <a class="pure-button" onclick="playPreview(10)"><i id="preview-10" class="far fa-play-circle" style="color:#3d4f5d"></i></a>
                    <audio class="preview-audio" id="audio-10" src="https://p.scdn.co/mp3-preview/39cc7911ee7e78ef32941605f3d207fb2ee85c26?cid=fb5641f3594042fb9eb08c5047773ba4"></audio>
                </td>
                <td style="text-align:left;padding-left:5px">Pieces</td>
            </tr>
                    </table>
    </div>
            <!-- Show number of tweets and users -->
        <div id="users-panel" style="display:block">
            <span class="main-colour">Real-time replay of 40 tweets from Monday 20th July 2020 by: </span><br/>            <table>
                <tr>
            <td class="profile" style="font-size:9pt;text-align:center;padding-top:8px;padding-left:8px"><a href="https://twitter.com/wearevillagers" target="_blank"><img src="https://pbs.twimg.com/profile_images/1274658542084030464/p9-MIWfR_normal.jpg" style="border-radius:50%;width:48px;height:48px" onerror="this.onerror=null; this.src='../../img/blankprofile.png'"><br/>@wearevillagers</a></td><td class="profile" style="font-size:9pt;text-align:center;padding-top:8px;padding-left:8px"><a href="https://twitter.com/Tim_Burgess" target="_blank"><img src="https://pbs.twimg.com/profile_images/1263179802732830720/ilZChYeS_normal.jpg" style="border-radius:50%;width:48px;height:48px" onerror="this.onerror=null; this.src='../../img/blankprofile.png'"><br/>@Tim_Burgess</a></td>                </tr>
            </table>
        </div>
        <br/>
                <!-- div to show timer and play/pause/ffwd buttons -->
        <div id="timer-div">
            <table>
                <tr>
                    <td>
                        <div id="playpause" title="Play/Pause Feed" style="padding-right:7px;">
                            <a class="pure-button" onclick="playPause()"><i class="fas fa-play" id="play-pause-btn" style="color:#3d4f5d"></i></a>
                        </div>
                    </td>
                    <td>
                        <div id="advance" title="Jump to Next Tweet" style="padding-right:7px;display:none;">
                            <a class="pure-button" onclick="advance()"><i class="fas fa-forward" id="fast-forward-btn" style="color:#3d4f5d"></i></a>
                        </div>
                    <td style="vertical-align:middle"><i id="stand-by-arrow" class="blinking far fa-hand-point-left fa-2x main-colour" style="display:none;padding-right:5px"></i></td>
                    <td style="vertical-align:bottom;text-align:left;padding-top:3px"><label id="timer" class="blinking main-colour" style="line-height:1em">Stand by...</label></td>
                </tr>
            </table>
        </div>
        <div id="tweet-feed-40" style="display:none" data-delay="1000">
            <h3 class="main-colour">End of Feed</h3>
        </div>
                    <div id="tweet-feed-39" style="display:none;font-size:smallest" data-delay="119000" data-url="https%3A%2F%2Ftwitter.com%2FTim_Burgess%2Fstatus%2F1285315703684423681"> 
                Tim_Burgess            </div>
                        <div id="tweet-feed-38" style="display:none;font-size:smallest" data-delay="35000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285315206365753350"> 
                wearevillagers            </div>
                        <div id="tweet-feed-37" style="display:none;font-size:smallest" data-delay="75000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285315059057668097"> 
                wearevillagers            </div>
                        <div id="tweet-feed-36" style="display:none;font-size:smallest" data-delay="4000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285314744438661120"> 
                wearevillagers            </div>
                        <div id="tweet-feed-35" style="display:none;font-size:smallest" data-delay="47000" data-url="https%3A%2F%2Ftwitter.com%2FTim_Burgess%2Fstatus%2F1285314725014843392"> 
                Tim_Burgess            </div>
                        <div id="tweet-feed-34" style="display:none;font-size:smallest" data-delay="208000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285314528880844808"> 
                wearevillagers            </div>
                        <div id="tweet-feed-33" style="display:none;font-size:smallest" data-delay="91000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285313657774256128"> 
                wearevillagers            </div>
                        <div id="tweet-feed-32" style="display:none;font-size:smallest" data-delay="20000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285313276864233476"> 
                wearevillagers            </div>
                        <div id="tweet-feed-31" style="display:none;font-size:smallest" data-delay="35000" data-url="https%3A%2F%2Ftwitter.com%2FTim_Burgess%2Fstatus%2F1285313191241752576"> 
                Tim_Burgess            </div>
                        <div id="tweet-feed-30" style="display:none;font-size:smallest" data-delay="176000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285313045695168514"> 
                wearevillagers            </div>
                        <div id="tweet-feed-29" style="display:none;font-size:smallest" data-delay="15000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285312307418083333"> 
                wearevillagers            </div>
                        <div id="tweet-feed-28" style="display:none;font-size:smallest" data-delay="112000" data-url="https%3A%2F%2Ftwitter.com%2FTim_Burgess%2Fstatus%2F1285312243710795776"> 
                Tim_Burgess            </div>
                        <div id="tweet-feed-27" style="display:none;font-size:smallest" data-delay="56000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285311772598181888"> 
                wearevillagers            </div>
                        <div id="tweet-feed-26" style="display:none;font-size:smallest" data-delay="110000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285311539348676608"> 
                wearevillagers            </div>
                        <div id="tweet-feed-25" style="display:none;font-size:smallest" data-delay="4000" data-url="https%3A%2F%2Ftwitter.com%2FTim_Burgess%2Fstatus%2F1285311076150775811"> 
                Tim_Burgess            </div>
                        <div id="tweet-feed-24" style="display:none;font-size:smallest" data-delay="34000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285311058958319616"> 
                wearevillagers            </div>
                        <div id="tweet-feed-23" style="display:none;font-size:smallest" data-delay="76000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285310916549124096"> 
                wearevillagers            </div>
                        <div id="tweet-feed-22" style="display:none;font-size:smallest" data-delay="52000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285310597526106112"> 
                wearevillagers            </div>
                        <div id="tweet-feed-21" style="display:none;font-size:smallest" data-delay="131000" data-url="https%3A%2F%2Ftwitter.com%2FLlSTENlNG_PARTY%2Fstatus%2F1285310382412836865"> 
                LlSTENlNG_PARTY            </div>
                        <div id="tweet-feed-20" style="display:none;font-size:smallest" data-delay="44000" data-url="https%3A%2F%2Ftwitter.com%2FTim_Burgess%2Fstatus%2F1285309832614928385"> 
                Tim_Burgess            </div>
                        <div id="tweet-feed-19" style="display:none;font-size:smallest" data-delay="11000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285309647327461378"> 
                wearevillagers            </div>
                        <div id="tweet-feed-18" style="display:none;font-size:smallest" data-delay="162000" data-url="https%3A%2F%2Ftwitter.com%2Fflareaudio%2Fstatus%2F1285309602905694211"> 
                flareaudio            </div>
                        <div id="tweet-feed-17" style="display:none;font-size:smallest" data-delay="66000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285308920416829442"> 
                wearevillagers            </div>
                        <div id="tweet-feed-16" style="display:none;font-size:smallest" data-delay="49000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285308643513184259"> 
                wearevillagers            </div>
                        <div id="tweet-feed-15" style="display:none;font-size:smallest" data-delay="33000" data-url="https%3A%2F%2Ftwitter.com%2FTim_Burgess%2Fstatus%2F1285308441444196355"> 
                Tim_Burgess            </div>
                        <div id="tweet-feed-14" style="display:none;font-size:smallest" data-delay="30000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285308302558142465"> 
                wearevillagers            </div>
                        <div id="tweet-feed-13" style="display:none;font-size:smallest" data-delay="85000" data-url="https%3A%2F%2Ftwitter.com%2FTim_Burgess%2Fstatus%2F1285308173918896129"> 
                Tim_Burgess            </div>
                        <div id="tweet-feed-12" style="display:none;font-size:smallest" data-delay="101000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285307819672178688"> 
                wearevillagers            </div>
                        <div id="tweet-feed-11" style="display:none;font-size:smallest" data-delay="134000" data-url="https%3A%2F%2Ftwitter.com%2FTim_Burgess%2Fstatus%2F1285307396177494017"> 
                Tim_Burgess            </div>
                        <div id="tweet-feed-10" style="display:none;font-size:smallest" data-delay="273000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285306833373220864"> 
                wearevillagers            </div>
                        <div id="tweet-feed-9" style="display:none;font-size:smallest" data-delay="84000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285305686528851975"> 
                wearevillagers            </div>
                        <div id="tweet-feed-8" style="display:none;font-size:smallest" data-delay="51000" data-url="https%3A%2F%2Ftwitter.com%2FTim_Burgess%2Fstatus%2F1285305337042608138"> 
                Tim_Burgess            </div>
                        <div id="tweet-feed-7" style="display:none;font-size:smallest" data-delay="119000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285305120104882177"> 
                wearevillagers            </div>
                        <div id="tweet-feed-6" style="display:none;font-size:smallest" data-delay="23000" data-url="https%3A%2F%2Ftwitter.com%2FTim_Burgess%2Fstatus%2F1285304623499272197"> 
                Tim_Burgess            </div>
                        <div id="tweet-feed-5" style="display:none;font-size:smallest" data-delay="70000" data-url="https%3A%2F%2Ftwitter.com%2FLlSTENlNG_PARTY%2Fstatus%2F1285304524807254016"> 
                LlSTENlNG_PARTY            </div>
                        <div id="tweet-feed-4" style="display:none;font-size:smallest" data-delay="75000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285304230992056320"> 
                wearevillagers            </div>
                        <div id="tweet-feed-3" style="display:none;font-size:smallest" data-delay="57000" data-url="https%3A%2F%2Ftwitter.com%2FTim_Burgess%2Fstatus%2F1285303918055104512"> 
                Tim_Burgess            </div>
                        <div id="tweet-feed-2" style="display:none;font-size:smallest" data-delay="29000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285303677193015296"> 
                wearevillagers            </div>
                        <div id="tweet-feed-1" style="display:none;font-size:smallest" data-delay="19000" data-url="https%3A%2F%2Ftwitter.com%2Fwearevillagers%2Fstatus%2F1285303558464733189"> 
                wearevillagers            </div>
                        <div id="tweet-feed-0" style="display:none;font-size:smallest" data-delay="0" data-url="https%3A%2F%2Ftwitter.com%2FTim_Burgess%2Fstatus%2F1285303476147425286"> 
                Tim_Burgess            </div>
            </section>
