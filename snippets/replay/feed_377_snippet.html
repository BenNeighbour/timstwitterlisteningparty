<section class="post">
    <script>
        function togglePreview() {
            preview = document.getElementById('track-preview');
            pauseAll(0);
            $(preview).slideToggle("slow");
        }
        
        function pauseAll(id) {
            // Pause all audio
            [].forEach.call(document.getElementsByClassName("preview-audio"), function (v, i) {
                var a = document.getElementsByClassName("preview-audio")[i];
                a.pause();
                a.currentTime = 0;
            });

            // Set all other buttons back to play
            var i=1;
            
            while (true) {
                var otherButton = document.getElementById("preview-" + i);
                if (otherButton === null) break;
                
                if (i !== id) {
                    otherButton.className = 'far fa-play-circle';
                }
                i++;
            }            
        }
        
        function playPreview(id) {
            var audio = document.getElementById("audio-" + id);
            var button = document.getElementById("preview-" + id);
            pauseAll(id);
            
            // Toggle play/stop of current track
            if (button.className.includes('play')) {
                // Play selected audio
                audio.play();
                button.className = 'far fa-stop-circle';
            } else {
                button.className = 'far fa-play-circle';
            }
        }        
    </script>
        <table>
        <tr>
            <td><a href="https://open.spotify.com/album/7duCIMjQ9LE5UjybZ0ZqoI" target="_blank">                <img src="https://i.scdn.co/image/ab67616d00001e02bc74673c29ed5a83da344c7c" alt="Billy Nomates" style="width:120px;height:120px;padding-right:8px">
                </a>            </td>
            <td><h4 style="text-align:left"><span class="main-colour">Billy Nomates</span><br/><span class="sub-colour">Billy Nomates</span></h4></td>
        </tr>
    </table>

        <div style="padding-right:7px;margin-top:5px;margin-bottom:5px">
        <a class="pure-button" onclick="togglePreview()"><i class="fas fa-search-plus" style="color:#3d4f5d"></i> Preview Track Listing</a>
    </div>
    <div id="track-preview" style="display:none;margin-bottom:5px">
        <table>
                        <tr>
                <td>
                    <a class="pure-button" onclick="playPreview(1)"><i id="preview-1" class="far fa-play-circle" style="color:#3d4f5d"></i></a>
                    <audio class="preview-audio" id="audio-1" src="https://p.scdn.co/mp3-preview/8d61e955b7570f9e7533c89424a2a9720bbb2047?cid=fb5641f3594042fb9eb08c5047773ba4"></audio>
                </td>
                <td style="text-align:left;padding-left:5px">Modern Hart</td>
            </tr>
                        <tr>
                <td>
                    <a class="pure-button" onclick="playPreview(2)"><i id="preview-2" class="far fa-play-circle" style="color:#3d4f5d"></i></a>
                    <audio class="preview-audio" id="audio-2" src="https://p.scdn.co/mp3-preview/e56f016b17da729a9568938f3d0e25ad559159c4?cid=fb5641f3594042fb9eb08c5047773ba4"></audio>
                </td>
                <td style="text-align:left;padding-left:5px">Hippy Elite</td>
            </tr>
                        <tr>
                <td>
                    <a class="pure-button" onclick="playPreview(3)"><i id="preview-3" class="far fa-play-circle" style="color:#3d4f5d"></i></a>
                    <audio class="preview-audio" id="audio-3" src="https://p.scdn.co/mp3-preview/3ab1676cc366e3626f214ba1103a914474c31d5f?cid=fb5641f3594042fb9eb08c5047773ba4"></audio>
                </td>
                <td style="text-align:left;padding-left:5px">Happy Misery</td>
            </tr>
                        <tr>
                <td>
                    <a class="pure-button" onclick="playPreview(4)"><i id="preview-4" class="far fa-play-circle" style="color:#3d4f5d"></i></a>
                    <audio class="preview-audio" id="audio-4" src="https://p.scdn.co/mp3-preview/cb1b20334472439f0c4958c8f9856f5b017eb8b5?cid=fb5641f3594042fb9eb08c5047773ba4"></audio>
                </td>
                <td style="text-align:left;padding-left:5px">No</td>
            </tr>
                        <tr>
                <td>
                    <a class="pure-button" onclick="playPreview(5)"><i id="preview-5" class="far fa-play-circle" style="color:#3d4f5d"></i></a>
                    <audio class="preview-audio" id="audio-5" src="https://p.scdn.co/mp3-preview/b4052d9db69476e5c04c11de50d403e9ea8e80ae?cid=fb5641f3594042fb9eb08c5047773ba4"></audio>
                </td>
                <td style="text-align:left;padding-left:5px">Supermarket Sweep</td>
            </tr>
                        <tr>
                <td>
                    <a class="pure-button" onclick="playPreview(6)"><i id="preview-6" class="far fa-play-circle" style="color:#3d4f5d"></i></a>
                    <audio class="preview-audio" id="audio-6" src="https://p.scdn.co/mp3-preview/71285af841aad9a9c1bdfeeff85f4b4af069c9a0?cid=fb5641f3594042fb9eb08c5047773ba4"></audio>
                </td>
                <td style="text-align:left;padding-left:5px">FNP</td>
            </tr>
                        <tr>
                <td>
                    <a class="pure-button" onclick="playPreview(7)"><i id="preview-7" class="far fa-play-circle" style="color:#3d4f5d"></i></a>
                    <audio class="preview-audio" id="audio-7" src="https://p.scdn.co/mp3-preview/24afa5369bf89b0b3841ba1e79137e416e8accc3?cid=fb5641f3594042fb9eb08c5047773ba4"></audio>
                </td>
                <td style="text-align:left;padding-left:5px">Mudslinger</td>
            </tr>
                        <tr>
                <td>
                    <a class="pure-button" onclick="playPreview(8)"><i id="preview-8" class="far fa-play-circle" style="color:#3d4f5d"></i></a>
                    <audio class="preview-audio" id="audio-8" src="https://p.scdn.co/mp3-preview/65737c62f17a768da52528c30f02800db507d9b0?cid=fb5641f3594042fb9eb08c5047773ba4"></audio>
                </td>
                <td style="text-align:left;padding-left:5px">Call In Sick</td>
            </tr>
                        <tr>
                <td>
                    <a class="pure-button" onclick="playPreview(9)"><i id="preview-9" class="far fa-play-circle" style="color:#3d4f5d"></i></a>
                    <audio class="preview-audio" id="audio-9" src="https://p.scdn.co/mp3-preview/4bd7984b4333d3d59978c556fc2b11ef9a073995?cid=fb5641f3594042fb9eb08c5047773ba4"></audio>
                </td>
                <td style="text-align:left;padding-left:5px">Fat White Man</td>
            </tr>
                        <tr>
                <td>
                    <a class="pure-button" onclick="playPreview(10)"><i id="preview-10" class="far fa-play-circle" style="color:#3d4f5d"></i></a>
                    <audio class="preview-audio" id="audio-10" src="https://p.scdn.co/mp3-preview/96816157f27aaa4a5487e8d6330986a3a024a88b?cid=fb5641f3594042fb9eb08c5047773ba4"></audio>
                </td>
                <td style="text-align:left;padding-left:5px">Wild Arena</td>
            </tr>
                        <tr>
                <td>
                    <a class="pure-button" onclick="playPreview(11)"><i id="preview-11" class="far fa-play-circle" style="color:#3d4f5d"></i></a>
                    <audio class="preview-audio" id="audio-11" src="https://p.scdn.co/mp3-preview/cbd2af98cf88d9d1b35468f746656a922c4a354c?cid=fb5641f3594042fb9eb08c5047773ba4"></audio>
                </td>
                <td style="text-align:left;padding-left:5px">Escape Artist</td>
            </tr>
                    </table>
    </div>
            <!-- Show number of tweets and users -->
        <div id="users-panel" style="display:block">
            <span class="main-colour">Real-time replay of 30 tweets from Wednesday 12th August 2020 by: </span><br/>            <table>
                <tr>
            <td class="profile" style="font-size:9pt;text-align:center;padding-top:8px;padding-left:8px"><a href="https://twitter.com/_billy_nomates" target="_blank"><img src="https://pbs.twimg.com/profile_images/1290311121237352448/EZXupKf5_normal.jpg" style="border-radius:50%;width:48px;height:48px" onerror="this.onerror=null; this.src='../../img/blankprofile.png'"><br/>@_billy_nomates</a></td><td class="profile" style="font-size:9pt;text-align:center;padding-top:8px;padding-left:8px"><a href="https://twitter.com/Tim_Burgess" target="_blank"><img src="https://pbs.twimg.com/profile_images/1263179802732830720/ilZChYeS_normal.jpg" style="border-radius:50%;width:48px;height:48px" onerror="this.onerror=null; this.src='../../img/blankprofile.png'"><br/>@Tim_Burgess</a></td><td class="profile" style="font-size:9pt;text-align:center;padding-top:8px;padding-left:8px"><a href="https://twitter.com/LlSTENlNG_PARTY" target="_blank"><img src="https://pbs.twimg.com/profile_images/1290062207317954561/jj9ytP1K_normal.jpg" style="border-radius:50%;width:48px;height:48px" onerror="this.onerror=null; this.src='../../img/blankprofile.png'"><br/>@LlSTENlNG_PARTY</a></td></tr><tr style="background-color:transparent">                </tr>
            </table>
        </div>
        <br/>
                <!-- div to show timer and play/pause/ffwd buttons -->
        <div id="timer-div">
            <table>
                <tr>
                    <td>
                        <div id="playpause" title="Play/Pause Feed" style="padding-right:7px;">
                            <a class="pure-button" onclick="playPause()"><i class="fas fa-play" id="play-pause-btn" style="color:#3d4f5d"></i></a>
                        </div>
                    </td>
                    <td>
                        <div id="advance" title="Jump to Next Tweet" style="padding-right:7px;display:none;">
                            <a class="pure-button" onclick="advance()"><i class="fas fa-forward" id="fast-forward-btn" style="color:#3d4f5d"></i></a>
                        </div>
                    <td style="vertical-align:middle"><i id="stand-by-arrow" class="blinking far fa-hand-point-left fa-2x main-colour" style="display:none;padding-right:5px"></i></td>
                    <td style="vertical-align:bottom;text-align:left;padding-top:3px"><label id="timer" class="blinking main-colour" style="line-height:1em">Stand by...</label></td>
                </tr>
            </table>
        </div>
        <div id="tweet-feed-30" style="display:none" data-delay="1000">
            <h3 class="main-colour">End of Feed</h3>
        </div>
                    <div id="tweet-feed-29" style="display:none;font-size:smallest" data-delay="147000" data-url="https%3A%2F%2Ftwitter.com%2F_billy_nomates%2Fstatus%2F1293663278061817862"> 
                _billy_nomates            </div>
                        <div id="tweet-feed-28" style="display:none;font-size:smallest" data-delay="52000" data-url="https%3A%2F%2Ftwitter.com%2F_billy_nomates%2Fstatus%2F1293662662312833030"> 
                _billy_nomates            </div>
                        <div id="tweet-feed-27" style="display:none;font-size:smallest" data-delay="15000" data-url="https%3A%2F%2Ftwitter.com%2F_billy_nomates%2Fstatus%2F1293662442522914816"> 
                _billy_nomates            </div>
                        <div id="tweet-feed-26" style="display:none;font-size:smallest" data-delay="67000" data-url="https%3A%2F%2Ftwitter.com%2FSkeletonOscar%2Fstatus%2F1293662381076357120"> 
                SkeletonOscar            </div>
                        <div id="tweet-feed-25" style="display:none;font-size:smallest" data-delay="130000" data-url="https%3A%2F%2Ftwitter.com%2FTim_Burgess%2Fstatus%2F1293662101878210563"> 
                Tim_Burgess            </div>
                        <div id="tweet-feed-24" style="display:none;font-size:smallest" data-delay="54000" data-url="https%3A%2F%2Ftwitter.com%2F_billy_nomates%2Fstatus%2F1293661553259053058"> 
                _billy_nomates            </div>
                        <div id="tweet-feed-23" style="display:none;font-size:smallest" data-delay="116000" data-url="https%3A%2F%2Ftwitter.com%2F_billy_nomates%2Fstatus%2F1293661327249018884"> 
                _billy_nomates            </div>
                        <div id="tweet-feed-22" style="display:none;font-size:smallest" data-delay="209000" data-url="https%3A%2F%2Ftwitter.com%2F_billy_nomates%2Fstatus%2F1293660843687772165"> 
                _billy_nomates            </div>
                        <div id="tweet-feed-21" style="display:none;font-size:smallest" data-delay="110000" data-url="https%3A%2F%2Ftwitter.com%2F_billy_nomates%2Fstatus%2F1293659964268056577"> 
                _billy_nomates            </div>
                        <div id="tweet-feed-20" style="display:none;font-size:smallest" data-delay="29000" data-url="https%3A%2F%2Ftwitter.com%2FTim_Burgess%2Fstatus%2F1293659504962396160"> 
                Tim_Burgess            </div>
                        <div id="tweet-feed-19" style="display:none;font-size:smallest" data-delay="12000" data-url="https%3A%2F%2Ftwitter.com%2F_billy_nomates%2Fstatus%2F1293659380597043207"> 
                _billy_nomates            </div>
                        <div id="tweet-feed-18" style="display:none;font-size:smallest" data-delay="86000" data-url="https%3A%2F%2Ftwitter.com%2F_billy_nomates%2Fstatus%2F1293659333566312449"> 
                _billy_nomates            </div>
                        <div id="tweet-feed-17" style="display:none;font-size:smallest" data-delay="208000" data-url="https%3A%2F%2Ftwitter.com%2F_billy_nomates%2Fstatus%2F1293658970054365192"> 
                _billy_nomates            </div>
                        <div id="tweet-feed-16" style="display:none;font-size:smallest" data-delay="12000" data-url="https%3A%2F%2Ftwitter.com%2F_billy_nomates%2Fstatus%2F1293658101082738689"> 
                _billy_nomates            </div>
                        <div id="tweet-feed-15" style="display:none;font-size:smallest" data-delay="163000" data-url="https%3A%2F%2Ftwitter.com%2F_billy_nomates%2Fstatus%2F1293658050725912579"> 
                _billy_nomates            </div>
                        <div id="tweet-feed-14" style="display:none;font-size:smallest" data-delay="61000" data-url="https%3A%2F%2Ftwitter.com%2FTim_Burgess%2Fstatus%2F1293657363203989504"> 
                Tim_Burgess            </div>
                        <div id="tweet-feed-13" style="display:none;font-size:smallest" data-delay="79000" data-url="https%3A%2F%2Ftwitter.com%2F_billy_nomates%2Fstatus%2F1293657107741515783"> 
                _billy_nomates            </div>
                        <div id="tweet-feed-12" style="display:none;font-size:smallest" data-delay="81000" data-url="https%3A%2F%2Ftwitter.com%2FTim_Burgess%2Fstatus%2F1293656777104543744"> 
                Tim_Burgess            </div>
                        <div id="tweet-feed-11" style="display:none;font-size:smallest" data-delay="28000" data-url="https%3A%2F%2Ftwitter.com%2FLlSTENlNG_PARTY%2Fstatus%2F1293656439903453184"> 
                LlSTENlNG_PARTY            </div>
                        <div id="tweet-feed-10" style="display:none;font-size:smallest" data-delay="192000" data-url="https%3A%2F%2Ftwitter.com%2F_billy_nomates%2Fstatus%2F1293656319535218688"> 
                _billy_nomates            </div>
                        <div id="tweet-feed-9" style="display:none;font-size:smallest" data-delay="60000" data-url="https%3A%2F%2Ftwitter.com%2F_billy_nomates%2Fstatus%2F1293655513692020738"> 
                _billy_nomates            </div>
                        <div id="tweet-feed-8" style="display:none;font-size:smallest" data-delay="74000" data-url="https%3A%2F%2Ftwitter.com%2FTim_Burgess%2Fstatus%2F1293655264248438790"> 
                Tim_Burgess            </div>
                        <div id="tweet-feed-7" style="display:none;font-size:smallest" data-delay="175000" data-url="https%3A%2F%2Ftwitter.com%2F_billy_nomates%2Fstatus%2F1293654953567891456"> 
                _billy_nomates            </div>
                        <div id="tweet-feed-6" style="display:none;font-size:smallest" data-delay="42000" data-url="https%3A%2F%2Ftwitter.com%2F_billy_nomates%2Fstatus%2F1293654220139307009"> 
                _billy_nomates            </div>
                        <div id="tweet-feed-5" style="display:none;font-size:smallest" data-delay="57000" data-url="https%3A%2F%2Ftwitter.com%2FPaolo_Gerard%2Fstatus%2F1293654041474539522"> 
                Paolo_Gerard            </div>
                        <div id="tweet-feed-4" style="display:none;font-size:smallest" data-delay="21000" data-url="https%3A%2F%2Ftwitter.com%2FWillhcafc%2Fstatus%2F1293653806279000072"> 
                Willhcafc            </div>
                        <div id="tweet-feed-3" style="display:none;font-size:smallest" data-delay="21000" data-url="https%3A%2F%2Ftwitter.com%2FEspleyLaura%2Fstatus%2F1293653714306301953"> 
                EspleyLaura            </div>
                        <div id="tweet-feed-2" style="display:none;font-size:smallest" data-delay="28000" data-url="https%3A%2F%2Ftwitter.com%2FLlSTENlNG_PARTY%2Fstatus%2F1293653626020401153"> 
                LlSTENlNG_PARTY            </div>
                        <div id="tweet-feed-1" style="display:none;font-size:smallest" data-delay="3000" data-url="https%3A%2F%2Ftwitter.com%2F_billy_nomates%2Fstatus%2F1293653512065372167"> 
                _billy_nomates            </div>
                        <div id="tweet-feed-0" style="display:none;font-size:smallest" data-delay="0" data-url="https%3A%2F%2Ftwitter.com%2FTim_Burgess%2Fstatus%2F1293653496198201345"> 
                Tim_Burgess            </div>
            </section>
